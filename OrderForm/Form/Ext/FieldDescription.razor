@namespace OrderForm.Form.Ext
@using static OrderForm.Data.FieldOptionStrings

@if (HasDescription) {
	<p id="@(HtmlId+hid_compDescription)" style="display:none">
		@((MarkupString)Description)
	</p>
}
else {
	<p id="@(HtmlId+hid_compDescription)" class="alert-danger fieldDep ">
		<i class="bi bi-exclamation-triangle-fill"></i>@((MarkupString)warning)
	</p>
}

@code {

	[Parameter]
	public string HtmlId { get; set; }
	[Parameter]
	public string Description { get; set; }
	[Parameter]
	public bool HasDescription { get; set; }

	private string warning;

	protected override void OnParametersSet() {
		base.OnParametersSet();

		if (!HasDescription) {
			warning = Description.TrimStart('!');
		}
	}
}
